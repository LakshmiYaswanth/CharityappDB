CREATE DATABASE yaswanth_db;
USE yaswanth_db;
//ADMIN TABLE
CREATE TABLE ADMIN(
ADMIN_ID INT PRIMARY KEY auto_increment,
NAME VARCHAR(105) NOT NULL,
EMAIL VARCHAR(100) UNIQUE,
PASSWORD VARCHAR(100) NOT NULL
);
//DONOR TABLE
CREATE TABLE DONOR(
DONOR_ID INT PRIMARY KEY auto_increment,
NAME VARCHAR(100) NOT NULL,
AGE INT NOT NULL,
EMAIL VARCHAR(100) unique,
PASSWORD  Varchar(15),
FUNDED_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
//REQUESTTYPE TABLE
CREATE TABLE REQUESTTYPE(
FUNDTYPE_ID  INT PRIMARY KEY AUTO_INCREMENT,
FUNDTYPE VARCHAR(100) UNIQUE
);
//REQUEST TABLE
CREATE TABLE REQUEST(
REQUEST_ID INT PRIMARY KEY AUTO_INCREMENT,
FUNDTYPE_ID INT NOT NULL,
AMOUNT int NOT NULL,
DESCRIPTION VARCHAR(100) NOT NULL,
ANNOUNCED_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
EXPIRE_DATE date NOT NULL,
ADMIN_Id int not null,
FOREIGN KEY(ADMIN_Id) REFERENCES ADMIN(ADMIN_Id),
FOREIGN KEY (FUNDTYPE_ID) references REQUESTTYPE(FUNDTYPE_ID), 
STATUS VARCHAR(100) NOT NULL DEFAULT("OPEN")
);
//TRANSACTION TABLE
 CREATE TABLE TRANSACTION
(
TRANSACTION_ID INT PRIMARY KEY Auto_increment,
REQUEST_Id INT NOT NULL,
DONOR_Id INT NOT NULL,
AMOUNTFUNDED INT NOT NULL ,  
TRANSACTION_DATE timestamp default current_timestamp,
FOREIGN KEY(DONOR_Id) REFERENCES DONOR(DONOR_Id),
FOREIGN KEY(REQUEST_Id) REFERENCES REQUEST(REQUEST_Id)
); 
